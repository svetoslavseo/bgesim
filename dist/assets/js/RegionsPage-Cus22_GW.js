import{r as P,j as e,H as F}from"./react-vendor-4ojIaEMp.js";import{R as N,C as $}from"./constants-Ct2pKzgS.js";import{B as U}from"./components-CMngPZgK.js";import"./articles-Gp0QO9c5.js";import{a as S,B,C as L,w as R,D as C}from"./icons-D6WOLjW3.js";import{s as G}from"./utils-D058XuHK.js";import{u,i as D}from"./i18n-D5CLTClQ.js";import"./vendor-B3hKfGQP.js";import"./country-page-DCGwAzV4.js";import"./data-service-CydxH5Qr.js";import"./plan-components-CroQkvhV.js";import"./compatibility-BDfFj75k.js";const E=({region:s,navigateTo:t})=>{const{t:n}=u("countries"),{t:r}=u("regions"),x=o=>{try{const d=n(`regions.${o}`);return d!==`regions.${o}`?d:N.find(m=>m.id===o)?.name||o}catch(d){return console.error("Translation error:",d),N.find(m=>m.id===o)?.name||o}};return e.jsxs("a",{href:`/${s.id}`,className:"group bg-white rounded-2xl shadow-lg border border-gray-100 cursor-pointer hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2 block",children:[e.jsxs("div",{className:"relative h-48 rounded-t-2xl overflow-hidden",children:[e.jsx("img",{src:s.imageUrl,alt:x(s.id),className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"}),e.jsx("div",{className:"absolute top-4 left-4",children:e.jsxs("div",{className:"bg-white/90 backdrop-blur-sm px-3 py-1 rounded-full text-sm font-semibold text-gray-800",children:[s.countryCount," ",r("stats.countries")]})})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2 group-hover:text-blue-600 transition-colors",children:x(s.id)}),e.jsx("p",{className:"text-gray-600 mb-4 leading-relaxed",children:s.description}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"text-lg font-bold text-blue-600",children:s.countryCount}),e.jsx("div",{className:"text-xs text-gray-600",children:r("stats.countries")})]}),e.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"text-lg font-bold text-green-600",children:["$",s.averagePrice]}),e.jsx("div",{className:"text-xs text-gray-600",children:r("plan_card.starting_price")})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[e.jsx(R,{className:"w-3 h-3 mr-1"}),s.coverage," ",r("coverage.label")]}),e.jsx("svg",{className:"w-5 h-5 text-gray-400 group-hover:text-blue-500 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]})},f=({icon:s,title:t,description:n})=>e.jsxs("div",{className:"text-center p-6 bg-white rounded-xl shadow-md hover:shadow-lg transition-shadow",children:[e.jsx("div",{className:"text-4xl text-blue-600 mb-4 flex justify-center",children:s}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:t}),e.jsx("p",{className:"text-gray-600",children:n})]}),k=({number:s,title:t,description:n})=>e.jsxs("div",{className:"text-center p-6",children:[e.jsx("div",{className:"w-16 h-16 bg-blue-600 text-white rounded-full flex items-center justify-center text-2xl font-bold mx-auto mb-4",children:s}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:t}),e.jsx("p",{className:"text-gray-600",children:n})]}),M=({plan:s,popular:t=!1,navigateTo:n})=>{const{t:r}=u("regions"),x=s.name||r("plan_card.global_plan"),o=s.data_limit?.amount||0,d=s.data_limit?.unit||"GB",m=`${o} ${d}`,y=s.duration?.amount||0,_=s.duration?.unit||"day",h=`${y} ${_}${y!==1?"s":""}`,p=s.price?.amount_with_tax||0,v=(p/100).toFixed(2),w=(p*1.4/100).toFixed(2);return e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6 hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1 relative",children:[t&&e.jsxs("div",{className:"absolute -top-2 -right-2 bg-yellow-400 text-xs font-bold px-2 py-1 rounded-full text-yellow-900",children:[e.jsx(R,{className:"inline w-3 h-3 mr-1"}),r("plan_card.popular")]}),e.jsxs("div",{className:"text-center mb-4",children:[e.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx(S,{className:"text-blue-600 text-2xl"})}),e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-1",children:x}),e.jsx("p",{className:"text-sm text-gray-600",children:h})]}),e.jsxs("div",{className:"text-center mb-6",children:[e.jsxs("div",{className:"text-3xl font-bold text-blue-600 mb-1",children:["$",v]}),e.jsxs("div",{className:"text-sm text-gray-500 line-through",children:["$",w]}),e.jsxs("div",{className:"text-xs text-gray-400",children:[m," ",r("plan_card.data")]})]}),e.jsxs("div",{className:"space-y-2 mb-6",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(C,{className:"text-green-500 w-4 h-4 mr-2"}),r("plan_card.global_coverage")]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(C,{className:"text-green-500 w-4 h-4 mr-2"}),r("plan_card.instant_activation")]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(C,{className:"text-green-500 w-4 h-4 mr-2"}),r("plan_card.no_roaming_fees")]})]}),e.jsx("button",{onClick:()=>{const l={country:r("plan_card.global_country"),flag:"/esim-data/flags/globe.svg",data:m,validity:h,price:parseFloat(v),currency:"USD",identifier:s.identifier,priceIdentifier:s.price?.identifier},a=encodeURIComponent(JSON.stringify(l));window.location.href=`/checkout?plan=${a}`},className:"w-full bg-black text-white py-3 px-4 rounded-lg font-semibold hover:bg-gray-800 transition-colors duration-200",children:r("plan_card.select_plan")})]})},X=({navigateTo:s=()=>{}})=>{const{t}=u("regions"),[n,r]=P.useState(null),[x,o]=P.useState(!0);P.useEffect(()=>{(async()=>{try{console.log("RegionsPage: Loading enhanced plans data...");const a=await G.getNormalizedPlansData();console.log("RegionsPage: Enhanced plans data loaded:",a?.items?.length||0,"plans");const g=a?.items?.filter(i=>i.source==="saily")||[],c=a?.items?.filter(i=>i.source==="local")||[];console.log("RegionsPage: Breakdown -",g.length,"Saily plans,",c.length,"local plans"),r(a)}catch(a){console.error("RegionsPage: Failed to load enhanced plans data:",a),r({items:[]})}finally{o(!1)}})()},[]);const d=()=>n?.items?n.items.filter(a=>a.region==="GLB"||a.covered_countries&&a.covered_countries.length>=50).sort((a,g)=>{const c=a.validity_days||0,i=g.validity_days||0;if(c!==i)return c-i;const j=a.data_amount||0,b=g.data_amount||0;return j-b}).slice(0,5):[],{t:m}=u("countries"),{t:y}=u("common"),_=N.map(l=>{const a=$.filter(c=>c.regionId===l.id);let g=3.99;if(n?.items){const c=n.items.filter(i=>i.region===l.id.toUpperCase()||i.covered_countries&&i.covered_countries.some(j=>a.some(b=>b.countryCode===j)));c.length>0&&(g=c.reduce((j,b)=>j+(b.price?.amount_with_tax||0),0)/c.length/100)}return{...l,countryCount:a.length,averagePrice:Math.round(g*100)/100,coverage:t("coverage.high")}}),h=$.length,p=N.length,v=Math.round(h/p),w=[];return e.jsxs("div",{children:[e.jsxs(F,{children:[e.jsx("html",{lang:D.language==="bg"?"bg":"en"}),e.jsx("title",{children:t("meta.title")}),e.jsx("meta",{name:"description",content:t("meta.description")}),e.jsx("meta",{name:"keywords",content:t("meta.keywords")}),e.jsx("meta",{property:"og:title",content:t("meta.og_title")}),e.jsx("meta",{property:"og:description",content:t("meta.og_description")}),e.jsx("meta",{property:"og:type",content:"website"}),e.jsx("meta",{property:"og:url",content:"https://travelesim.bg/bg/regions"}),e.jsx("meta",{property:"og:image",content:"https://travelesim.bg/esim-data/travelesim-logo.png"}),e.jsx("meta",{property:"og:locale",content:"bg_BG"}),e.jsx("meta",{property:"og:locale:alternate",content:"en_US"}),e.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),e.jsx("meta",{name:"twitter:title",content:t("meta.twitter_title")}),e.jsx("meta",{name:"twitter:description",content:t("meta.twitter_description")}),e.jsx("link",{rel:"canonical",href:`https://travelesim.bg${D.language==="en"?"/en":""}/regions`}),e.jsx("link",{rel:"alternate",hrefLang:"bg",href:"https://travelesim.bg/regions"}),e.jsx("link",{rel:"alternate",hrefLang:"en",href:"https://travelesim.bg/en/regions"}),e.jsx("link",{rel:"alternate",hrefLang:"x-default",href:"https://travelesim.bg/regions"})]}),e.jsxs("div",{className:"bg-white",children:[e.jsx(U,{items:w,navigateTo:s}),e.jsx("div",{className:"bg-black text-white py-16 md:py-24",children:e.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[e.jsx("h1",{className:"text-4xl md:text-6xl font-bold mb-6",children:t("hero.title")}),e.jsx("p",{className:"text-xl md:text-2xl text-gray-300 mb-8 leading-relaxed",children:t("hero.description",{regions:p,countries:h})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mt-12",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-4xl md:text-5xl font-bold mb-2",children:p}),e.jsx("div",{className:"text-gray-400",children:t("stats.regions")})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-4xl md:text-5xl font-bold mb-2",children:h}),e.jsx("div",{className:"text-gray-400",children:t("stats.countries")})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-4xl md:text-5xl font-bold mb-2",children:v}),e.jsx("div",{className:"text-gray-400",children:t("stats.avg_countries_per_region")})]})]})]})})}),e.jsx("div",{className:"bg-gray-50 py-16 md:py-24",children:e.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:t("global_plans.title")}),e.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:t("global_plans.description")})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-6",children:[x?e.jsx("div",{className:"col-span-full text-center py-8",children:e.jsx("div",{className:"text-lg text-gray-600",children:t("loading.global_plans")})}):d().map((l,a)=>e.jsx(M,{plan:l,popular:a===1,navigateTo:s},l.identifier||a)),!x&&d().length===0&&e.jsx("div",{className:"col-span-full text-center py-8",children:e.jsx("div",{className:"text-lg text-gray-600",children:t("errors.no_global_plans")})})]}),e.jsx("div",{className:"text-center mt-12",children:e.jsx("button",{onClick:()=>s("/all-destinations"),className:"inline-flex items-center px-8 py-3 border border-transparent text-base font-medium rounded-md text-white bg-black hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 transition-colors duration-200",children:t("global_plans.view_all")})})]})})}),e.jsx("div",{className:"py-16 md:py-24",children:e.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:t("explore.title")}),e.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:t("explore.description")})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:_.map(l=>e.jsx(E,{region:l,navigateTo:s},l.id))})]})})}),e.jsx("div",{className:"bg-gray-50 py-16 md:py-24",children:e.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:t("features.title")}),e.jsx("p",{className:"text-xl text-gray-600",children:t("features.description")})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[e.jsx(f,{icon:e.jsx(S,{}),title:t("features.global_coverage.title"),description:t("features.global_coverage.description")}),e.jsx(f,{icon:e.jsx(B,{}),title:t("features.trusted.title"),description:t("features.trusted.description")}),e.jsx(f,{icon:e.jsx(L,{}),title:t("features.expertise.title"),description:t("features.expertise.description")}),e.jsx(f,{icon:e.jsx(R,{}),title:t("features.value.title"),description:t("features.value.description")})]})]})})}),e.jsx("div",{className:"py-16 md:py-24",children:e.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:t("how_to_choose.title")}),e.jsx("p",{className:"text-xl text-gray-600",children:t("how_to_choose.description")})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[e.jsx(k,{number:"1",title:t("steps.select_region.title"),description:t("steps.select_region.description")}),e.jsx(k,{number:"2",title:t("steps.browse_countries.title"),description:t("steps.browse_countries.description")}),e.jsx(k,{number:"3",title:t("steps.choose_plan.title"),description:t("steps.choose_plan.description")})]})]})})})]})]},"regions-page")};export{X as default};
