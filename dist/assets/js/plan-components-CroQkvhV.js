import{r as m,j as e}from"./react-vendor-4ojIaEMp.js";import{x as F,y as S,z as Y,g as V,c as H,A as q,a as J}from"./icons-D6WOLjW3.js";import{P as Z}from"./components-CMngPZgK.js";import{u as k}from"./i18n-D5CLTClQ.js";import{C as ee}from"./constants-Ct2pKzgS.js";const P=s=>s==="USD"?"$":s,u=s=>typeof s.price=="number"?s.price:s.price&&typeof s.price=="object"&&typeof s.price.amount_with_tax=="number"?s.price.amount_with_tax/100:NaN,$=s=>s.currency?s.currency:s.price&&typeof s.price=="object"&&s.price.currency?s.price.currency:"USD",te=s=>{if(s.data==="Unlimited"||!s.data)return u(s);const l=s.data.match(/(\d+(?:\.\d+)?)/);if(!l)return u(s);const i=parseFloat(l[1]);return i===0?u(s):u(s)/i},A=s=>{const l=u(s);return isNaN(l)?"0.00":l.toFixed(2)},se=s=>{const l=te(s);return isNaN(l)?"0.00":l.toFixed(2)},re=s=>{if(Array.isArray(s?.covered_countries)){const l=s.covered_countries.length;if(l>50)return"global";if(l>1)return"regional";if(l===1)return"country"}return typeof s?.planType=="string"?s.planType:typeof s?.region=="string"&&s.region.toLowerCase()==="global"?"global":"country"},de=({plans:s,selectedPlan:l,onSelectPlan:i,countryName:x="Andorra",bestValuePlanId:o,onUpsellChange:j,onBuyNow:b,onCheckCompatibility:f})=>{const{t:r}=k(["countries","plans"]),{i18n:d}=k(),[w,N]=m.useState(!1),[n,a]=m.useState(null);m.useEffect(()=>{console.log("PlanSelector: Received plans:",s?.length||0,"for country:",x),s?.length>0&&console.log("PlanSelector: First plan:",s[0])},[s,x]);const v=t=>t?t==="Unlimited"?r("unlimited_data"):t:"",C=t=>{if(!t)return"";if(d.language==="bg"){if(t.includes("7 days"))return"7 дни";if(t.includes("15 days"))return"15 дни";if(t.includes("30 days"))return"30 дни";if(t.includes("1 day"))return"1 ден";if(t.includes("days"))return t.replace("days","дни");if(t.includes("day"))return t.replace("day","ден")}return t},T=t=>{switch(t){case"global":return"Global plans work in 50+ countries worldwide";case"regional":return"Regional plans work in multiple countries within a specific region";case"country":return"Country plans work specifically in this destination";default:return"Plan coverage information"}};if(!s||s.length===0)return e.jsx("div",{className:"bg-white p-8 rounded-3xl shadow-xl border border-gray-100 w-full mx-auto text-center",children:e.jsx("p",{className:"text-gray-700 text-lg",children:r("no_plans_available")})});const p=t=>`${t.validity.split(" ")[0]} ${r("days")}`,L=Array.from(new Set(s.map(p))).sort((t,c)=>{const g=parseInt(t.split(" ")[0]),D=parseInt(c.split(" ")[0]);return g-D}),R=s.reduce((t,c)=>{const g=p(c);return t[g]=(t[g]||0)+1,t},{}),[y,W]=m.useState(L[0]),_=s.filter(t=>p(t)===y),I=[..._].sort((t,c)=>u(t)-u(c)),[M,K]=m.useState(!1),Q=M?I:I.slice(0,4),B=[..._].sort((t,c)=>u(c)-u(t)),X=B.length>=3?B[2].id:null;return e.jsxs("div",{id:"choose-your-plan",className:"bg-white p-4 sm:p-8 rounded-3xl shadow-2xl border border-gray-100 w-full max-w-[95vw] mx-auto px-2 sm:px-4",children:[e.jsxs("div",{className:"relative mb-6 sm:mb-8 pt-8 sm:pt-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-xl sm:text-3xl font-bold text-gray-900 mb-2",children:r("choose_your_plan")}),e.jsx("p",{className:"text-gray-600 text-sm sm:text-lg mb-4",children:d.language==="bg"?"Изберете походящ план с мобилни данни за вашето пътуване":"Select the perfect data plan for your journey"})]}),e.jsxs("div",{className:"absolute -top-2 -right-2 sm:-top-4 sm:-right-4 bg-gradient-to-r from-green-500 to-emerald-500 text-white px-3 sm:px-5 py-1.5 sm:py-2.5 rounded-full text-xs sm:text-sm font-bold flex items-center space-x-1.5 sm:space-x-2 shadow-lg transform hover:scale-105 transition-transform",children:[e.jsx("div",{className:"w-2 h-2 sm:w-3 sm:h-3 bg-white rounded-full animate-pulse"}),e.jsx("span",{children:r("instant_activation")||"Instant Activation"})]})]}),e.jsx("div",{className:"flex space-x-3 mb-6 sm:mb-8 overflow-x-auto scrollbar-hide pb-2",children:L.map(t=>e.jsxs("button",{"aria-pressed":y===t,className:`flex-shrink-0 flex flex-col items-center gap-1.5 px-4 py-3 rounded-xl border-2 font-bold text-sm transition-all duration-200 ${y===t?"bg-gradient-to-r from-blue-600 to-indigo-600 text-white border-blue-700 shadow-lg":"bg-white text-gray-800 border-gray-400 hover:border-blue-400 hover:bg-blue-50"}`,onClick:()=>W(t),children:[e.jsx("span",{className:"text-base font-bold",children:t}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{className:`${y===t?"bg-white/20 text-white":"bg-blue-100 text-blue-600"} text-xs font-bold px-1.5 py-0.5 rounded-full`,children:R[t]||0}),e.jsx("span",{className:`text-xs font-medium ${y===t?"text-white/80":"text-gray-500"}`,children:(R[t]||0)===1?r("plan"):r("plans")})]})]},t))}),e.jsx("div",{className:"space-y-3 sm:space-y-4 mb-8",children:Q.map(t=>{const c=l&&l.id===t.id,g=String(t.identifier??t.id)===String(o),D=t.id===X;return e.jsxs("div",{onClick:()=>{console.log("DEBUG: Plan clicked in PlanSelector:",t),console.log("DEBUG: plan.price:",t.price),console.log("DEBUG: plan.price.identifier:",t.price?.identifier),i(t)},className:`relative flex items-center p-4 sm:p-6 border-2 rounded-2xl cursor-pointer transition-all duration-300 hover:shadow-lg ${c?"border-blue-500 bg-gradient-to-r from-blue-50 to-indigo-50 shadow-lg ring-4 ring-blue-200":"border-gray-200 hover:border-blue-300 hover:bg-blue-50"} ${g?"ring-2 ring-yellow-400":""}`,style:{minHeight:"56px"},children:[e.jsx("div",{className:`flex items-center justify-center w-5 h-5 sm:w-6 sm:h-6 border-2 rounded-full mr-3 sm:mr-4 flex-shrink-0 transition-all duration-200 ${c?"border-blue-600 bg-blue-600":"border-gray-300"}`,children:c&&e.jsx(F,{className:"w-3 h-3 sm:w-4 sm:h-4 text-white"})}),e.jsxs("div",{className:"flex-1 flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[e.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:space-x-6 mb-1 sm:mb-0",children:e.jsxs("div",{children:[e.jsx("div",{className:"flex items-center gap-1.5 sm:gap-2 mb-1",children:e.jsx("span",{className:"font-bold text-lg sm:text-2xl text-gray-900",children:v(t.data)})}),e.jsxs("span",{className:"block sm:inline sm:ml-2 text-gray-600 text-xs sm:text-sm font-medium",children:[C(t.validity)," ",r("validity")]})]})}),e.jsx("div",{className:"text-right",children:e.jsxs("div",{className:"flex flex-col items-end space-y-0.5 sm:space-y-1",children:[e.jsxs("span",{className:"font-bold text-xl sm:text-3xl text-blue-600",children:[P($(t)),A(t)]}),e.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[(()=>{const h=re(t);return e.jsxs("div",{className:"mt-2",children:[e.jsxs("span",{className:`inline-flex items-center gap-1 px-1.5 sm:px-2 py-0.5 sm:py-1 rounded-full text-xs font-medium ${h==="global"?"bg-purple-100 text-purple-700":h==="regional"?"bg-blue-100 text-blue-700":"bg-green-100 text-green-700"}`,children:[r(h==="global"?"global":h==="regional"?"regional":"country"),e.jsx(S,{className:"w-4 h-4 cursor-help",onMouseEnter:()=>a(`${h}-${t.id}`),onMouseLeave:()=>a(null)})]}),n===`${h}-${t.id}`&&e.jsxs("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-3 py-2 bg-gray-900 text-white text-xs rounded-lg shadow-lg whitespace-nowrap z-10",children:[T(h),e.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-900"})]})]})})(),t.data==="Unlimited"?e.jsx("span",{className:"bg-yellow-100 text-black px-1.5 sm:px-2 py-0.5 sm:py-1 rounded-full text-xs font-medium",children:r("unlimited_data")}):e.jsxs("span",{className:"bg-gray-100 text-gray-600 px-1.5 sm:px-2 py-0.5 sm:py-1 rounded-full text-xs font-medium",children:[P($(t)),se(t),"/GB"]})]})]})})]}),D&&!g&&e.jsxs("div",{className:"absolute -top-2 sm:-top-3 -right-2 sm:-right-3 bg-gradient-to-r from-yellow-400 to-yellow-500 text-black text-xs sm:text-sm font-bold px-3 sm:px-4 py-1 sm:py-2 rounded-full flex items-center gap-1 sm:gap-2 shadow-lg",children:[e.jsx(Y,{className:"w-3 h-3 sm:w-4 sm:h-4 text-black"}),e.jsx("span",{className:"hidden sm:inline",children:r("plans:pricing.most_popular")}),e.jsx("span",{className:"sm:hidden",children:r("plans:pricing.most_popular")})]})]},t.id)})}),_.length>4&&e.jsx("div",{className:"flex justify-center mb-8",children:e.jsx("button",{className:"text-blue-600 font-bold px-6 py-3 rounded-xl border-2 border-blue-200 hover:bg-blue-50 transition-all duration-200",onClick:()=>K(t=>!t),children:M?r("show_less_plans"):r("view_all_plans",{count:_.length})})}),l&&l.id?e.jsx("button",{className:"w-full font-bold py-4 sm:py-5 px-6 sm:px-8 rounded-2xl text-base sm:text-lg mb-6 transition-all duration-200 bg-gradient-to-r from-gray-900 to-black text-white hover:from-black hover:to-gray-800 shadow-lg hover:shadow-xl transform hover:scale-105",onClick:()=>{if(b){const t={...l,identifier:l?.identifier,priceIdentifier:l?.price?.identifier};b(t)}},children:d.language==="bg"?`${r("continue")} - ${P($(l))}${A(l)}`:`${r("buy_now")} - ${P($(l))}${A(l)}`}):e.jsx("button",{className:"w-full font-bold py-4 sm:py-5 px-6 sm:px-8 rounded-2xl text-base sm:text-lg mb-6 transition-all bg-gray-200 text-gray-500 cursor-not-allowed",disabled:!0,children:r("select_a_plan")}),e.jsx("div",{className:"text-center mb-8",children:e.jsx("a",{href:"#",className:"text-blue-600 hover:text-blue-700 text-sm sm:text-base font-semibold underline decoration-dotted underline-offset-4 hover:decoration-solid transition-all",onClick:t=>{t.preventDefault(),f&&f()},children:r("check_phone_compatibility")})}),e.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-blue-50 rounded-2xl p-4 sm:p-6 mb-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center text-xs sm:text-sm text-gray-700 gap-4 sm:gap-6",children:[e.jsx("div",{className:"flex items-center justify-center",children:e.jsx("img",{src:"/saily-trustpilot-rating.png",alt:"Trustpilot Rating",className:"h-6 sm:h-8"})}),e.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2",children:[e.jsx(F,{className:"text-green-500 w-4 h-4 sm:w-5 sm:h-5"}),e.jsx("span",{className:"font-medium text-xs sm:text-sm",children:r("secure_payment_guaranteed")})]})]})}),e.jsx("div",{className:"flex justify-center",children:e.jsx(Z,{})})]})},O=s=>s==="USD"?"$":s,E=8,ue=({plans:s,regionName:l})=>{const[i,x]=m.useState(!1),{t:o,i18n:j}=k("plans"),b=i?s:s.slice(0,E),f=r=>{if(!r)return"";if(j.language==="bg"){if(r.includes("7 days"))return"7 дни";if(r.includes("15 days"))return"15 дни";if(r.includes("30 days"))return"30 дни";if(r.includes("1 day"))return"1 ден";if(r.includes("days"))return r.replace("days","дни");if(r.includes("day"))return r.replace("day","ден")}return r};return e.jsx("section",{className:"my-16",children:e.jsxs("div",{className:"px-6 md:px-16 py-8",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 text-center mb-2",children:o("title",{country:l||"this region"})}),e.jsx("p",{className:"text-center text-gray-600 mb-8",children:o("description")}),e.jsxs("div",{className:"flex justify-center gap-6 mb-8",children:[e.jsxs("span",{className:"flex items-center gap-1 text-blue-600 text-sm font-medium",children:[e.jsx(V,{className:"inline"}),o("features.instant_activation")]}),e.jsxs("span",{className:"flex items-center gap-1 text-blue-600 text-sm font-medium",children:[e.jsx(H,{className:"inline"}),o("features.wifi_hotspot")]}),e.jsxs("span",{className:"flex items-center gap-1 text-blue-600 text-sm font-medium",children:[e.jsx(q,{className:"inline"}),o("features.fast_internet")]})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:b.map(r=>e.jsxs("div",{className:"bg-blue-50 rounded-2xl p-8 flex flex-col items-center shadow-sm transition hover:shadow-md",children:[e.jsx("div",{className:"flex items-center justify-center w-16 h-16 bg-blue-100 rounded-full mb-4",children:e.jsx(J,{className:"text-blue-400 text-3xl"})}),e.jsx("div",{className:"text-3xl font-extrabold text-blue-900 mb-1",children:r.data}),e.jsx("div",{className:"text-gray-500 font-medium mb-4",children:o("for_duration",{duration:f(r.validity)})}),e.jsxs("a",{href:"#",className:"text-blue-600 font-semibold hover:underline mt-auto text-base",onClick:d=>{d.preventDefault();const w={country:l||"this region",flag:"/esim-data/flags/globe.svg",data:r.data,validity:r.validity,price:r.price.amount_with_tax/100,currency:O(r.price.currency),identifier:r.identifier,priceIdentifier:r.price?.identifier},N=encodeURIComponent(JSON.stringify(w));window.location.href=`/checkout?plan=${N}`},children:[o("buy_for_price",{currency:O(r.price.currency),price:(r.price.amount_with_tax/100).toFixed(2)})," →"]})]},r.id))}),s.length>E&&e.jsx("div",{className:"flex justify-center mt-10",children:e.jsx("a",{href:"#",className:"px-8 py-3 rounded-xl bg-white text-blue-700 font-semibold border border-blue-200 hover:bg-blue-50 transition text-lg shadow inline-block",onClick:r=>{r.preventDefault(),x(d=>!d)},children:i?o("show_less"):o("show_more_plans",{count:s.length-E})})})]})})},z=s=>s==="USD"?"$":s,G=8,ne=({plans:s,countryName:l})=>{const{t:i,i18n:x}=k("plans"),[o,j]=m.useState(!1),[b,f]=m.useState(null),r=o?s:s.slice(0,G),d=n=>{if(!n)return"";if(x.language==="bg"){if(n.includes("7 days"))return"7 дни";if(n.includes("15 days"))return"15 дни";if(n.includes("30 days"))return"30 дни";if(n.includes("1 day"))return"1 ден";if(n.includes("days"))return n.replace("days","дни");if(n.includes("day"))return n.replace("day","ден")}return n},w=n=>{if(Array.isArray(n?.covered_countries)){const a=n.covered_countries.length;if(a>50)return"global";if(a>1)return"regional";if(a===1)return"country"}return typeof n?.planType=="string"?n.planType:typeof n?.region=="string"&&n.region.toLowerCase()==="global"?"global":"country"},N=n=>{switch(n){case"global":return"Global plans work in 50+ countries worldwide";case"regional":return"Regional plans work in multiple countries within a specific region";case"country":return"Country plans work specifically in this destination";default:return"Plan coverage information"}};return e.jsx("section",{className:"my-16",children:e.jsxs("div",{className:"px-6 md:px-16 py-8",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 text-center mb-2",children:i("title",{country:l||"this country"})}),e.jsx("p",{className:"text-center text-gray-600 mb-8",children:i("description")}),e.jsxs("div",{className:"flex justify-center gap-6 mb-8",children:[e.jsxs("span",{className:"flex items-center gap-1 text-blue-600 text-sm font-medium",children:[e.jsx(V,{className:"inline"}),i("features.instant_activation")]}),e.jsxs("span",{className:"flex items-center gap-1 text-blue-600 text-sm font-medium",children:[e.jsx(H,{className:"inline"}),i("features.wifi_hotspot")]}),e.jsxs("span",{className:"flex items-center gap-1 text-blue-600 text-sm font-medium",children:[e.jsx(q,{className:"inline"}),i("features.fast_internet")]})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:r.map(n=>e.jsxs("div",{className:"bg-blue-50 rounded-2xl p-8 flex flex-col items-center shadow-sm transition hover:shadow-md",children:[e.jsx("div",{className:"flex items-center justify-center w-16 h-16 bg-blue-100 rounded-full mb-4",children:e.jsx(J,{className:"text-blue-400 text-3xl"})}),e.jsx("div",{className:"text-3xl font-extrabold text-blue-900 mb-1",children:n.data}),e.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[e.jsx("div",{className:"text-gray-500 font-medium",children:i("for_duration",{duration:d(n.validity)})}),(()=>{const a=w(n);return e.jsxs("div",{className:"relative",children:[e.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${a==="global"?"bg-purple-100 text-purple-700":a==="regional"?"bg-blue-100 text-blue-700":"bg-green-100 text-green-700"}`,children:[i(a==="global"?"global":a==="regional"?"regional":"country"),e.jsx(S,{className:"w-3 h-3 cursor-help",onMouseEnter:()=>f(`${a}-${n.id}`),onMouseLeave:()=>f(null)})]}),b===`${a}-${n.id}`&&e.jsxs("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-3 py-2 bg-gray-900 text-white text-xs rounded-lg shadow-lg whitespace-nowrap z-10",children:[N(a),e.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-900"})]})]})})()]}),e.jsxs("a",{href:"#",className:"text-blue-600 font-semibold hover:underline mt-auto text-base mb-2",onClick:a=>{a.preventDefault();const v=ee.find(U=>U.name===l),C=(v?.countryCode||v?.id||"globe").toLowerCase(),T={country:l||"this country",flag:`/esim-data/flags/${C.toLowerCase()}.svg`,data:n.data,validity:n.validity,price:n.price.amount_with_tax/100,currency:z(n.price.currency),identifier:n.identifier,priceIdentifier:n.price?.identifier},p=encodeURIComponent(JSON.stringify(T));window.location.href=`/checkout?plan=${p}`},children:[i("buy_for_price",{currency:z(n.price.currency),price:(n.price.amount_with_tax/100).toFixed(2)})," →"]})]},n.id))}),s.length>G&&e.jsx("div",{className:"flex justify-center mt-10",children:e.jsx("a",{href:"#",className:"px-8 py-3 rounded-xl bg-white text-blue-700 font-semibold border border-blue-200 hover:bg-blue-50 transition text-lg shadow inline-block",onClick:n=>{n.preventDefault(),j(a=>!a)},children:o?i("show_less"):i("show_more_plans",{count:s.length-G})})})]})})},me=Object.freeze(Object.defineProperty({__proto__:null,default:ne},Symbol.toStringTag,{value:"Module"}));export{me as C,de as P,ue as R};
