const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/js/components-UJEfX2Hl.js","assets/js/react-vendor-4ojIaEMp.js","assets/js/vendor-B3hKfGQP.js","assets/js/constants-Ct2pKzgS.js","assets/js/icons-B0Rijjdx.js","assets/js/i18n-CUQnsjz_.js","assets/js/country-page-B7zHV9K_.js","assets/js/data-service-CydxH5Qr.js","assets/js/utils-CuaJlodt.js","assets/js/plan-components-D5Z3gAVo.js","assets/js/compatibility-DDqLnYC0.js","assets/js/articles-_cSwa24C.js"])))=>i.map(i=>d[i]);
import{_ as U}from"./country-page-B7zHV9K_.js";import{j as e,r as l,R as ce,H as de}from"./react-vendor-4ojIaEMp.js";import{R as B,C as me,B as ge}from"./constants-Ct2pKzgS.js";import{b as ue,c as xe,d as fe,e as he,h as pe,i as ye,j as _e,B as be,s as ve}from"./utils-CuaJlodt.js";import{dataService as je}from"./data-service-CydxH5Qr.js";import{B as we,H as Ne}from"./components-UJEfX2Hl.js";import{B as Se}from"./icons-B0Rijjdx.js";import{u as _}from"./i18n-CUQnsjz_.js";import{P as Pe,R as $e}from"./plan-components-D5Z3gAVo.js";import{D as Re}from"./compatibility-DDqLnYC0.js";const H=({navigateTo:n})=>{const{t:m}=_("common");return e.jsxs("section",{className:"flex flex-col items-center justify-center min-h-[60vh] text-center px-4","data-page-404":"true",children:[e.jsx(Se,{className:"text-brand-accent w-16 h-16 mb-6","aria-hidden":"true"}),e.jsx("h1",{className:"text-6xl font-extrabold text-gray-800 mb-4",children:"404"}),e.jsx("p",{className:"text-xl text-gray-600 mb-8 max-w-lg",children:m("not_found.message")}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsx("button",{onClick:()=>n("/"),className:"inline-flex items-center justify-center px-6 py-3 bg-black text-white rounded-md shadow hover:bg-gray-900 transition-colors",children:m("not_found.go_home")}),e.jsx("button",{onClick:()=>n("/all-destinations"),className:"inline-flex items-center justify-center px-6 py-3 border border-brand-accent text-brand-accent rounded-md hover:bg-brand-accent/10 transition-colors",children:m("not_found.explore_destinations")})]})]})},We=Object.freeze(Object.defineProperty({__proto__:null,default:H},Symbol.toStringTag,{value:"Module"})),Ce=l.lazy(()=>U(()=>import("./components-UJEfX2Hl.js").then(n=>n.i),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11]))),ke=l.lazy(()=>U(()=>import("./compatibility-DDqLnYC0.js").then(n=>n.a),__vite__mapDeps([10,1,2,5,6,0,3,4,8,11,7,9]))),Me=l.lazy(()=>U(()=>import("./components-UJEfX2Hl.js").then(n=>n.m),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11]))),T=()=>e.jsxs("div",{className:"animate-pulse p-4",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]}),I=n=>n==="USD"?"$":n,Je=({regionId:n,navigateTo:m=()=>{}})=>{const{t:d,i18n:s}=_(["common","countries","home","regions"]),{t:o}=_("countries"),{t:c}=_("regions"),{t:b}=_("common"),[h,V]=l.useState(null),[W,J]=l.useState(!1),[v,R]=l.useState(null),[q,K]=l.useState(!0),[Q,C]=l.useState(!1),[N,X]=l.useState(!1);l.useEffect(()=>{X(!0)},[]);const p=B.find(t=>t.id===n),k=l.useMemo(()=>me.filter(t=>t.regionId===n),[n]);if(!p)return console.error("Region not found:",n),e.jsx(H,{navigateTo:m});const r=p?(t=>{try{const a=o(`regions.${t}`);return a!==`regions.${t}`?a:B.find(i=>i.id===t)?.name||t}catch(a){return console.error("Translation error:",a),B.find(i=>i.id===t)?.name||t}})(p.id):n;l.useEffect(()=>{typeof window<"u"&&(async()=>{try{console.log("RegionPage: Loading enhanced plans data...");const a=await ve.getNormalizedPlansData(),i=a?.items?.filter(g=>g.source==="saily")||[],u=a?.items?.filter(g=>g.source==="local")||[];console.log("RegionPage: Enhanced plans loaded:",a?.items?.length||0,"total plans"),console.log("RegionPage: Breakdown -",i.length,"Saily plans,",u.length,"local plans"),R(a)}catch(a){console.error("RegionPage: Error loading enhanced data:",a);try{const i=await je.getPlansData(!0);console.log("RegionPage: Using fallback plans data:",i?.items?.length||0,"plans"),R(i)}catch(i){console.error("RegionPage: Fallback also failed:",i),R({items:[]})}}finally{K(!1)}})()},[]);const j=typeof window>"u"||!window.document||!window.document.createElement,Y=!j&&q&&N,L={items:[{identifier:"region_3gb_30days",name:"3 GB Plan",data_limit:{amount:3,unit:"GB",is_unlimited:!1},duration:{amount:30,unit:"day"},price:{amount_with_tax:999,currency:"USD",identifier:"region_3gb_30days"},covered_countries:[]},{identifier:"region_5gb_30days",name:"5 GB Plan",data_limit:{amount:5,unit:"GB",is_unlimited:!1},duration:{amount:30,unit:"day"},price:{amount_with_tax:1499,currency:"USD",identifier:"region_5gb_30days"},covered_countries:[]},{identifier:"region_10gb_30days",name:"10 GB Plan",data_limit:{amount:10,unit:"GB",is_unlimited:!1},duration:{amount:30,unit:"day"},price:{amount_with_tax:2499,currency:"USD",identifier:"region_10gb_30days"},covered_countries:[]}]},M=j||!v||!N?L:v,z=k.map(t=>t.id.toUpperCase()),w={europe:"EU",asia:"ASA","north-america":"NAM","south-america":"LAT",africa:"AFR",oceania:"ASA"}[n],S=l.useMemo(()=>(M?.items||[]).filter(t=>{const a=Array.isArray(t.covered_countries)?t.covered_countries:[],i=a.length,u=a.filter(g=>z.includes(g)).length;return i<=1||i>=50||u<2?!1:(w&&t.region===w,!0)}),[M,z,w]);console.log("RegionPage: Filtering plans for region:",n),console.log("RegionPage: Total plans in data:",M?.items?.length||0),console.log("RegionPage: Filtered region plans:",S.length);const Z=S.filter(t=>t.region===w),ee=S.filter(t=>t.region!==w);console.log("RegionPage: Explicit regional plans:",Z.length,"Country plans in region:",ee.length);const D={};S.forEach(t=>{const a=Array.isArray(t.covered_countries)?t.covered_countries.length:0;if(a<=1||a>=50)return;const u=`regional|${t.region||"multi"}|${t.data_amount}-${t.data_unit}-${t.validity_days}|${t.price?.amount_with_tax}`,g=D[u];(!g||(t.price?.amount_with_tax??1/0)<(g.price?.amount_with_tax??1/0))&&(D[u]=t)});const G=Object.values(D),f=G.length>0?G.map(t=>{let a="country";return Array.isArray(t.covered_countries)&&t.covered_countries.length>=50?a="global":Array.isArray(t.covered_countries)&&t.covered_countries.length>1?a="regional":a="country",{id:t.identifier,name:t.name,data_amount:t.data_amount,data_unit:t.data_unit,validity_days:t.validity_days,price:{amount_with_tax:t.price.amount_with_tax,currency:t.price.currency},covered_countries:t.covered_countries,identifier:t.identifier,data:t.data,validity:t.validity,planType:a,region:t.region}}):j?L.items.map(t=>{let a="country";return t.region==="GLB"||t.covered_countries.length>=50?a="global":t.region||t.covered_countries.length>5?a="regional":a="country",{id:t.identifier,name:t.name,data_amount:t.data_amount,data_unit:t.data_unit,validity_days:t.validity_days,price:{amount_with_tax:t.price.amount_with_tax,currency:t.price.currency},covered_countries:t.covered_countries,identifier:t.identifier,data:t.data,validity:t.validity,planType:a,region:t.region}}):[],O=f.find(t=>t.isBestValue),te=O?O.id.toString():void 0,E=f.length>0?f.reduce((t,a)=>a.price.amount_with_tax<t.price.amount_with_tax?a:t,f[0]):null,P=E?`${I(E.price.currency)}${E.price.amount_with_tax/100}`:null,F=ce.useMemo(()=>{if(!v?.items)return new Map;const t=new Map;try{v.items.forEach(a=>{const i=a.covered_countries||[],u=a.price.amount_with_tax;i.forEach(g=>{const y=g.toUpperCase(),$=t.get(y);(!$||u<$.amount)&&t.set(y,{amount:u,currency:a.price.currency})})})}catch(a){console.error("Error creating country prices map:",a)}return t},[v]),ae=l.useMemo(()=>{const t=r,a=`${ge}${s.language==="en"?"/en":""}/${n}`,i=`${a}/#region`,u=`${a}/#breadcrumb`,g=`${a}/#product`,y=f.map(x=>x.price.amount_with_tax/100).filter(x=>Number.isFinite(x)),$=y.length?Math.min(...y).toFixed(2):void 0,le=y.length?Math.max(...y).toFixed(2):void 0,A=f.slice(0,20).map(x=>({"@type":"Offer","@id":`${a}/#offer-${x.id}`,sku:x.id,name:x.name,price:(x.price.amount_with_tax/100).toFixed(2),priceCurrency:x.price.currency||"USD",availability:"https://schema.org/InStock",eligibleRegion:{"@id":i},itemOffered:{"@id":g},url:`${a}#plans`}));return{"@context":"https://schema.org","@graph":[ue(d,s.language),xe(d,s.language),fe(d,s.language,a,c("meta.title_template",{region:t})||`${t} eSIM - Travel eSIMple`,c("meta.description_template",{region:t})||`Get affordable eSIM data plans for ${t}. Instant activation, no hidden fees.`,i,u),he(d,s.language,a,[{name:d("breadcrumbs.home",{ns:"common"}),item:`${be}/`},{name:`${t} eSIM`,item:a}]),pe(d,s.language,a,t,"Place"),ye(d,s.language,a,`${t} eSIM`,c("meta.og_description_template",{region:t})||`Get affordable eSIM data plans for ${t}. Instant activation, no hidden fees.`,A),_e(d,s.language,a,f[0]?.price?.currency||"USD",$||"0",le||"0",A.length,A.map(x=>x["@id"]))]}},[n,r,f,s.language,c,d]),ne=[P?o("data_plans_from",{price:P}):o("affordable_flexible_plans"),o("stay_connected_networks",{region:r}),o("compatible_smartphones")],re=[{label:o("region_travel_esim",{region:r}),url:s.language==="zh"?`/zh/${n}`:`/${n}`}];if(Y)return e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3 mb-4"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2 mb-2"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"})]})});if(!p)return e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx("h1",{className:"text-2xl font-bold text-center",children:"404 - Region Not Found"}),e.jsx("p",{className:"text-center text-gray-600",children:"The region you are looking for does not exist."})]});const ie=t=>{if(!F.size)return null;try{const a=t.countryCode||t.id.toUpperCase();return F.get(a)}catch(a){return console.error(`Error getting price for country ${t.name}:`,a),null}},se=t=>{const a=ie(t);return a?`${I(a.currency)}${a.amount/100}`:null},oe=()=>{if(typeof window<"u"&&typeof window.gtag=="function"&&window.gtag("event","buy_esim_click",{region:p.name,plan:h?.id,upsell:W}),h){const t={country:p.name,flag:"/esim-data/flags/globe.svg",data:h.data,validity:h.validity,price:h.price.amount_with_tax/100,currency:I(h.price.currency||"USD"),identifier:h.identifier,priceIdentifier:h.price?.identifier},a=encodeURIComponent(JSON.stringify(t));m(`/checkout?plan=${a}`)}};return e.jsxs("div",{children:[e.jsxs(de,{children:[e.jsx("html",{lang:s.language==="bg"?"bg":"en"}),e.jsx("title",{children:c("meta.title_template",{region:r})||`${r} eSIM - Travel eSIMple`}),e.jsx("meta",{name:"description",content:c("meta.description_template",{region:r})||`Get affordable eSIM data plans for ${r}. Instant activation, no hidden fees. Stay connected while traveling in ${r}.`}),e.jsx("meta",{name:"keywords",content:c("meta.keywords_template",{region:r})||`${r} eSIM, ${r} travel eSIM, ${r} mobile data, ${r} international roaming`}),e.jsx("meta",{property:"og:title",content:c("meta.og_title_template",{region:r})||`${r} eSIM - Instant Activation, No Roaming Fees`}),e.jsx("meta",{property:"og:description",content:c("meta.og_description_template",{region:r})||`Get affordable eSIM data plans for ${r}. Instant activation, no hidden fees.`}),e.jsx("meta",{property:"og:type",content:"website"}),e.jsx("meta",{property:"og:url",content:`https://travelesim.bg${s.language==="en"?"/en":""}/${n}`}),e.jsx("meta",{property:"og:image",content:"https://travelesim.bg/esim-data/travelesim-logo.png"}),e.jsx("meta",{property:"og:locale",content:s.language==="bg"?"bg_BG":"en_US"}),e.jsx("meta",{property:"og:locale:alternate",content:s.language==="bg"?"en_US":"bg_BG"}),e.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),e.jsx("meta",{name:"twitter:title",content:c("meta.twitter_title_template",{region:r})||`${r} eSIM - Instant Activation, No Roaming Fees`}),e.jsx("meta",{name:"twitter:description",content:c("meta.twitter_description_template",{region:r})||`Get affordable eSIM data plans for ${r}. Instant activation, no hidden fees.`}),e.jsx("link",{rel:"canonical",href:`https://travelesim.bg${s.language==="en"?"/en":""}/${n}`}),e.jsx("link",{rel:"alternate",hrefLang:"bg",href:`https://travelesim.bg/${n}`}),e.jsx("link",{rel:"alternate",hrefLang:"en",href:`https://travelesim.bg/en/${n}`}),e.jsx("link",{rel:"alternate",hrefLang:"x-default",href:`https://travelesim.bg/${n}`}),N&&!j&&e.jsx("script",{type:"application/ld+json",children:JSON.stringify(ae)})]}),e.jsxs("div",{className:"bg-white",children:[e.jsx(we,{items:re,navigateTo:m}),e.jsx("div",{className:"w-full bg-black text-white py-8 md:py-16",children:e.jsx("div",{className:"w-full max-w-[90vw] mx-auto px-2 sm:px-4",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 md:gap-12 lg:gap-16 items-center justify-center",children:[e.jsxs("div",{className:"lg:col-span-1 flex flex-col justify-center text-left px-2 sm:px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-start mb-6 gap-3 sm:gap-4 w-full",children:[e.jsx("span",{className:"inline-flex items-center justify-center",style:{width:56,height:56,borderRadius:"50%",overflow:"hidden",boxShadow:"0 0 0 4px rgba(100,100,150,0.5), 0 0 0 8px #23225a",boxSizing:"border-box",display:"inline-flex",alignItems:"center",justifyContent:"center"},children:e.jsx("div",{className:"w-full h-full bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-2xl font-bold text-white",children:p.name.charAt(0)})})}),e.jsx("h1",{className:"text-4xl md:text-6xl font-extrabold text-white text-left",children:o("esim_for_region",{region:r})})]}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-200 mb-6 sm:mb-8 text-left",children:o("stay_connected_region",{region:r})}),e.jsx("ul",{className:"space-y-2 mb-6 sm:mb-8 text-white text-left",children:ne.map((t,a)=>e.jsx(Ee,{text:t},a))})]}),e.jsx("div",{className:"lg:col-span-1 flex flex-col justify-center",children:e.jsx("div",{className:"w-full rounded-none shadow-none p-0 m-0 border-0 sm:rounded-2xl sm:shadow-lg sm:p-8 flex flex-col justify-center items-center lg:sticky lg:top-24",style:{boxSizing:"border-box"},children:e.jsx(Pe,{plans:f,selectedPlan:h,onSelectPlan:t=>V(t),countryName:r,bestValuePlanId:te,onUpsellChange:J,onBuyNow:oe,onCheckCompatibility:()=>C(!0)})})})]})})}),e.jsx($e,{plans:f,regionName:r}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 py-8 md:py-12",children:e.jsx(l.Suspense,{fallback:e.jsxs("div",{className:"animate-pulse p-4",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]}),children:e.jsx(Me,{regionName:p?.name||r,title:`All Available Plans for ${r}`,maxPlans:12,showSource:!0,className:"mb-8"})})}),e.jsx("div",{className:"bg-gray-50 py-16 md:py-24",children:e.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-6",children:c("countries_section.title",{region:r})}),e.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto leading-relaxed",children:c("countries_section.description")})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 md:gap-8",children:k.map(t=>e.jsx(De,{country:t,navigateTo:m,price:se(t)||void 0},t.id))}),e.jsx("div",{className:"mt-16 pt-12 border-t border-gray-200",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 text-center",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-2",children:k.length}),e.jsx("div",{className:"text-gray-600 font-medium",children:o("countries_available")})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-2",children:P?o("from_price",{price:P}):o("from_default_price")}),e.jsx("div",{className:"text-gray-600 font-medium",children:o("starting_price")})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-2",children:"24/7"}),e.jsx("div",{className:"text-gray-600 font-medium",children:o("customer_support")})]})]})})]})})}),e.jsx(Ne,{regionName:r}),e.jsx(l.Suspense,{fallback:e.jsx(T,{}),children:e.jsx(ke,{onCheckCompatibility:()=>C(!0)})}),e.jsx(Re,{isOpen:Q,onClose:()=>C(!1)}),e.jsx(l.Suspense,{fallback:e.jsx(T,{}),children:e.jsx(Ce,{navigateTo:m})})]})]},`region-${n}-${j?"ssr":N?"hydrated":"client"}`)},De=({country:n,price:m})=>{const{t:d}=_("countries"),s=c=>{try{const b=d(`countries.${c}`,{ns:"countries"});return b!==`countries.${c}`?b:n.name}catch(b){return console.error("Translation error:",b),n.name}},o=m!=null;return e.jsx("a",{href:`/${n.regionId}/${n.slug}`,className:`group bg-white p-6 rounded-xl shadow-sm border border-gray-100 cursor-pointer hover:shadow-lg hover:border-blue-200 transition-all duration-300 transform hover:-translate-y-1 block ${o?"":"opacity-60"}`,children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-12 h-12 rounded-lg overflow-hidden shadow-sm border border-gray-200 group-hover:shadow-md transition-shadow duration-300",children:e.jsx("img",{src:`/esim-data/flags/${n.id.toLowerCase()}.svg`,alt:`${s(n.id)} flag`,className:"w-full h-full object-cover",loading:"lazy",width:"48",height:"48"})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 group-hover:text-blue-600 transition-colors duration-200 truncate",children:s(n.id)}),e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:o?m:d("no_plans_available")}),e.jsx("div",{className:"flex items-center mt-2",children:e.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${o?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600"}`,children:d(o?"available":"unavailable")})})]}),e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"w-5 h-5 text-gray-400 group-hover:text-blue-500 transition-colors duration-200",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})})},Ee=({text:n})=>e.jsxs("li",{className:"flex items-center text-lg text-white",children:[e.jsx("svg",{className:"w-6 h-6 text-green-500 mr-3 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),n]});export{We as N,Je as R};
